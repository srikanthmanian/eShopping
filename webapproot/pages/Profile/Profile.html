<wm-page layouttype="one-column" columns="1" data-ng-controller="ProfilePageController" name="page1">
    <wm-header height="auto" name="header" backgroundcolor="#005387" class="eshop-header">
        <wm-layoutgrid rows="1" columns="2" name="layoutgrid23" height="70">
            <wm-gridrow name="gridrow28">
                <wm-gridcolumn name="gridcolumn68">
                    <wm-picture name="picture1" picturesource="bind:Variables.eshopIcon.dataSet.dataValue"></wm-picture>
                    <wm-label name="ApplicationName" on-click="appName" caption="bind:Variables.appName.dataSet.dataValue" fontweight="bold" fontsize="24" color="#d1d039" class="application-name appName"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn name="gridcolumn70" horizontalalign="right">
                    <wm-search name="search1" class="product-search" width="353" height="75" dataset="bind:Variables.products.dataSet.data" searchkey="name" displaylabel="name" displayimagesrc="imgUrl" data-ng-click="activateProductSearch($event)" on-submit="search1Submit($event, $scope)"></wm-search>
                </wm-gridcolumn>
            </wm-gridrow>
        </wm-layoutgrid>
    </wm-header>
    <wm-top-nav name="top-nav" backgroundcolor="#0a3151">
        <wm-list name="topLinks" horizontalalign="left" class="top-nav">
            <wm-list-item name="topLink1" data-ng-click="navigateToPage($event, $scope)">
                <wm-anchor caption="bind:Variables.homeMenu.dataSet.dataValue" name="homelink" hyperlink="#/Main"></wm-anchor>
            </wm-list-item>
            <wm-list-item name="topLink2" data-ng-click="navigateToPage($event, $scope)">
                <wm-anchor caption="bind:Variables.productsMenu.dataSet.dataValue" name="productslink" hyperlink="#/Category"></wm-anchor>
            </wm-list-item>
            <wm-list-item ng-if="userLoggedin" name="topLink3" data-ng-click="navigateToPage($event, $scope)">
                <wm-anchor caption="bind:Variables.cartMenu.dataSet.dataValue" name="cartlink" hyperlink="#/Cart"></wm-anchor>
            </wm-list-item>
            <wm-list-item ng-if="userLoggedin" name="topLink4" data-ng-click="navigateToPage($event, $scope)">
                <wm-anchor caption="bind:Variables.ordersMenu.dataSet.dataValue" name="orderslink" hyperlink="#/Orders"></wm-anchor>
            </wm-list-item>
            <wm-list-item ng-if="userLoggedin" name="topLink5">
                <wm-anchor caption="bind:Variables.profileMenu.dataSet.dataValue" name="profilelink" hyperlink="#/Profile"></wm-anchor>
            </wm-list-item>
            <wm-list-item ng-if="!userLoggedin" name="topLink6">
                <wm-anchor caption="LOGIN" name="loginlink" on-click="loginDialog.show"></wm-anchor>
            </wm-list-item>
            <wm-list-item ng-if="userLoggedin" name="topLink7">
                <wm-anchor caption="bind:Variables.logoutMenu.dataSet.dataValue" name="logoutlink" on-click="logout($event, $scope)"></wm-anchor>
            </wm-list-item>
        </wm-list>
    </wm-top-nav>
    <wm-content name="content1">
        <wm-row name="row1">
            <wm-column class="app-content-column" columnwidth="12" name="column1">

                <wm-form name="profile" method="get" paddingleft="5" paddingunit="em" paddingtop="2">
                    <wm-composite widget="text" name="Name">
                        <wm-label name="Name" caption="Name"></wm-label>
                        <wm-text name="NameVal" datavalue="bind:Variables.currentUser.dataSet.name"></wm-text>
                    </wm-composite>
                    <wm-composite widget="text" name="Phone">
                        <wm-label name="Phone Number" caption="Phone Number"></wm-label>
                        <wm-text name="PhoneVal" datavalue="bind:Variables.currentUser.dataSet.phone" type="number"></wm-text>
                    </wm-composite>
                    <wm-composite widget="text" name="street">
                        <wm-label name="Street Address" caption="Street Address"></wm-label>
                        <wm-text name="StreetVal" datavalue="bind:Variables.currentUser.dataSet.street"></wm-text>
                    </wm-composite>
                    <wm-composite widget="text" name="landmark">
                        <wm-label name="Landmark" caption="Landmark"></wm-label>
                        <wm-text name="LandmarkVal" datavalue="bind:Variables.currentUser.dataSet.landmark"></wm-text>
                    </wm-composite>
                    <wm-composite widget="text" name="city">
                        <wm-label name="City" caption="City"></wm-label>
                        <wm-text name="CityVal" datavalue="bind:Variables.currentUser.dataSet.city"></wm-text>
                    </wm-composite>
                    <wm-composite widget="text" name="pin">
                        <wm-label name="Pin" caption="Pin"></wm-label>
                        <wm-text name="PinVal" datavalue="bind:Variables.currentUser.dataSet.pin"></wm-text>
                    </wm-composite>
                    <wm-composite widget="text" name="country">
                        <wm-label name="Country" caption="Country"></wm-label>
                        <wm-text name="CountryVal" datavalue="bind:Variables.currentUser.dataSet.country"></wm-text>
                    </wm-composite>

                    <wm-button name="save" textalign="center" caption="SAVE CHANGES" backgroundcolor="#007fb8" color="#f9f9f9" on-click="saveClick($event, $scope)" paddingtop="" paddingunit="em" margintop="2" marginunit="em"></wm-button>
                </wm-form>

            </wm-column>
        </wm-row>
    </wm-content>
    <wm-footer name="footer">
        <wm-layoutgrid rows="1" columns="2" height="auto" name="footerlayout">
            <wm-gridrow name="footerrow">
                <wm-gridcolumn name="footerleft" verticalalign="bottom">
                    <wm-label caption="Powered by WaveMaker" textalign="left" name="poweredby" width="100%"></wm-label>
                </wm-gridcolumn>
                <wm-gridcolumn horizontalalign="right" verticalalign="bottom" name="footerright">
                    <wm-label caption="Copyright 2014 eShop" textalign="right" name="copyright" width="100%"></wm-label>
                </wm-gridcolumn>
            </wm-gridrow>
        </wm-layoutgrid>
    </wm-footer>
</wm-page>